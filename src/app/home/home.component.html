<!-- Header -->
<div class="header">
    <div class="logo-section">
        <button class="mobile-menu-toggle" (click)="toggleMobileSidebar()">
            <mat-icon>menu</mat-icon>
        </button>
        <!-- <div class="company-logo">NA</div> -->
        <div class="company-info">
            <h1>NG·ªåC AN LOGISTICS</h1>
            <p>H·ªá th·ªëng qu·∫£n l√Ω v·∫≠n t·∫£i</p>
        </div>
    </div>
</div>
<!-- Main Container -->
<div class="container">
    <!-- Sidebar Overlay for mobile -->
    <div class="sidebar-overlay" [class.active]="isMobileOpen" (click)="toggleMobileSidebar()"></div>
    <!-- Sidebar -->
    <aside class="sidebar" [class.collapsed]="isCollapsed" [class.mobile-open]="isMobileOpen">
        <!-- <div class="admin-info">
            <div class="admin-avatar">üè¢</div>
            <h3>UnifyAdmin</h3>
            <p>Management System</p>
        </div> -->
        <!-- Menu -->
        <div class="menu-section">
            <!-- Title -->
            <div class="menu-title">Qu·∫£n l√Ω ch√≠nh</div>
            <!-- Dashboard -->
            <div class="menu-item-wrapper">
                <a
                    *ngIf="rolename == 'Admin'"
                    routerLink="/admin/dashboard"
                    routerLinkActive="active"
                    class="menu-item"
                    data-tooltip="Dashboard"
                >
                    <div class="icon">
                        <mat-icon>analytics</mat-icon>
                    </div>
                    <span class="menu-item-text">Dashboard</span>
                </a>
            </div>
            <!-- ƒê∆°n h√†ng -->
            <div class="menu-item-wrapper">
                <a
                    class="menu-item has-submenu"
                    [class.open]="submenus.orders"
                    data-tooltip="ƒê∆°n h√†ng"
                    (click)="toggleSubmenu('orders')"
                >
                    <div class="icon">
                        <mat-icon>layers</mat-icon>
                    </div>
                    <span class="menu-item-text">ƒê∆°n h√†ng</span>
                </a>
            </div>
            <!-- ƒê∆°n h√†ng Submenu -->
            <div class="submenu" [class.open]="submenus.orders">
                <div class="submenu-item-wrapper">
                    <a
                        routerLink="/admin/list-order"
                        routerLinkActive="active"
                        class="menu-item"
                        data-tooltip="Danh s√°ch ƒë∆°n h√†ng"
                    >
                        <div class="icon">
                            <mat-icon>assignment</mat-icon>
                        </div>
                        <span class="menu-item-text">Danh s√°ch ƒë∆°n h√†ng</span>
                    </a>
                </div>
                <div class="submenu-item-wrapper">
                    <a
                        routerLink="/entry/create-order"
                        routerLinkActive="active"
                        class="menu-item"
                        data-tooltip="T·∫°o ƒë∆°n h√†ng"
                    >
                        <div class="icon">
                            <mat-icon>add_box</mat-icon>
                        </div>
                        <span class="menu-item-text">T·∫°o ƒë∆°n h√†ng</span>
                    </a>
                </div>
                <!-- <a routerLink="/entry/update-order" routerLinkActive="active" class="menu-item" 
                    data-tooltip="C·∫≠p nh·∫≠t ƒë∆°n h√†ng">
                    <div class="icon">‚úèÔ∏è</div>
                    <span class="menu-item-text">C·∫≠p nh·∫≠t ƒë∆°n h√†ng</span>
                </a> -->
            </div>
            <!-- Danh m·ª•c -->
            <div class="menu-item-wrapper">
                <a
                    class="menu-item has-submenu"
                    [class.open]="submenus.categories"
                    data-tooltip="Danh m·ª•c"
                    (click)="toggleSubmenu('categories')"
                >
                    <div class="icon">
                        <!-- üìÇ -->
                        <mat-icon>library_books</mat-icon>
                    </div>
                    <span class="menu-item-text">Danh m·ª•c</span>
                    <!-- <span class="badge">6</span> -->
                </a>
            </div>
            <!-- Danh m·ª•c Submenu -->
            <div class="submenu" [class.open]="submenus.categories">
                <div class="submenu-item-wrapper">
                    <a
                        routerLink="/admin/list-transportSalary"
                        routerLinkActive="active"
                        class="menu-item"
                        data-tooltip="Ti·ªÅn l∆∞∆°ng v·∫≠n chuy·ªÉn"
                    >
                        <div class="icon">
                            <mat-icon>local_shipping</mat-icon>
                        </div>
                        <span class="menu-item-text">Ti·ªÅn l∆∞∆°ng v·∫≠n chuy·ªÉn</span>
                    </a>
                </div>
                <div class="submenu-item-wrapper">
                    <a
                        routerLink="/admin/list-customer"
                        routerLinkActive="active"
                        class="menu-item"
                        data-tooltip="Kh√°ch h√†ng"
                    >
                        <div class="icon"><mat-icon>contacts</mat-icon></div>
                        <span class="menu-item-text">Kh√°ch h√†ng</span>
                    </a>
                </div>
                <div class="submenu-item-wrapper">
                    <a
                        routerLink="/admin/list-driver"
                        routerLinkActive="active"
                        class="menu-item"
                        data-tooltip="T√†i x·∫ø"
                    >
                        <div class="icon"><mat-icon>local_taxi</mat-icon></div>
                        <span class="menu-item-text">T√†i x·∫ø</span>
                    </a>
                </div>
                <div class="submenu-item-wrapper">
                    <a
                        routerLink="/admin/list-location"
                        routerLinkActive="active"
                        class="menu-item"
                        data-tooltip="ƒê·ªãa ƒëi·ªÉm"
                    >
                        <div class="icon"><mat-icon>fmd_good</mat-icon></div>
                        <span class="menu-item-text">ƒê·ªãa ƒëi·ªÉm</span>
                    </a>
                </div>
                <div class="submenu-item-wrapper">
                    <a routerLink="/admin/list-truck" routerLinkActive="active" class="menu-item" data-tooltip="Xe">
                        <div class="icon"><mat-icon>pin</mat-icon></div>
                        <span class="menu-item-text">S·ªë Xe</span>
                    </a>
                </div>
                <div class="submenu-item-wrapper">
                    <a routerLink="/admin/list-rmooc" routerLinkActive="active" class="menu-item" data-tooltip="Rmooc">
                        <div class="icon"><mat-icon>pin</mat-icon></div>
                        <span class="menu-item-text">S·ªë Rmooc</span>
                    </a>
                </div>
                <div class="submenu-item-wrapper">
                    <a routerLink="/admin/list-item" routerLinkActive="active" class="menu-item" data-tooltip="Chi ph√≠">
                        <div class="icon"><mat-icon>request_quote</mat-icon></div>
                        <span class="menu-item-text">Chi ph√≠</span>
                    </a>
                </div>
            </div>
            <!-- B·∫£o d∆∞·ª°ng -->
            <div class="menu-item-wrapper">
                <a
                    *ngIf="rolename == 'Admin'"
                    class="menu-item has-submenu"
                    [class.open]="submenus.maintenance"
                    data-tooltip="Danh m·ª•c b·∫£o d∆∞·ª°ng"
                    (click)="toggleSubmenu('maintenance')"
                >
                    <div class="icon"><mat-icon>build_circle</mat-icon></div>
                    <span class="menu-item-text">B·∫£o d∆∞·ª°ng</span>
                    <!-- <span class="badge">6</span> -->
                </a>
            </div>
            <!-- B·∫£o d∆∞·ª°ng Submenu -->
            <div class="submenu" [class.open]="submenus.maintenance">
                <div class="submenu-item-wrapper">
                    <a
                        *ngIf="rolename == 'Admin'"
                        routerLink="/admin/list-maintenance"
                        routerLinkActive="active"
                        class="menu-item"
                        data-tooltip="Ng∆∞·ªùi d√πng"
                    >
                        <div class="icon"><mat-icon>car_repair</mat-icon></div>
                        <span class="menu-item-text">B·∫£o d∆∞·ª°ng</span>
                    </a>
                </div>
                <div class="submenu-item-wrapper">
                    <a
                        *ngIf="rolename == 'Admin'"
                        routerLink="/admin/list-maintenanceType"
                        routerLinkActive="active"
                        class="menu-item"
                        data-tooltip="Ng∆∞·ªùi d√πng"
                    >
                        <div class="icon"><mat-icon>text_snippet</mat-icon></div>
                        <span class="menu-item-text">M·ª•c b·∫£o d∆∞·ª°ng</span>
                    </a>
                </div>
            </div>
            <!-- Ng∆∞·ªùi d√πng -->
            <div class="menu-item-wrapper">
                <a
                    *ngIf="rolename == 'Admin'"
                    class="menu-item has-submenu"
                    [class.open]="submenus.user"
                    data-tooltip="Ng∆∞·ªùi d√πng"
                    (click)="toggleSubmenu('user')"
                >
                    <div class="icon"><mat-icon>account_circle</mat-icon></div>
                    <span class="menu-item-text">Ng∆∞·ªùi d√πng</span>
                    <!-- <span class="badge">6</span> -->
                </a>
            </div>
            <!-- Ng∆∞·ªùi d√πng Submenu -->
            <div class="submenu" [class.open]="submenus.user">
                <div class="submenu-item-wrapper">
                    <a
                        routerLink="/admin/list-userRole"
                        routerLinkActive="active"
                        class="menu-item"
                        data-tooltip="Ng∆∞·ªùi d√πng"
                    >
                        <div class="icon"><mat-icon>assignment_ind</mat-icon></div>
                        <span class="menu-item-text">Ng∆∞·ªùi d√πng</span>
                    </a>
                </div>
            </div>
            <!-- B√°o c√°o th·ªëng k√™ -->
            <div class="menu-item-wrapper">
                <a routerLink="/reports" routerLinkActive="active" class="menu-item" data-tooltip="B√°o c√°o th·ªëng k√™">
                    <div class="icon"><mat-icon>area_chart</mat-icon></div>
                    <span class="menu-item-text">B√°o c√°o th·ªëng k√™</span>
                </a>
            </div>
            <!-- Settings -->
            <div class="settings">
                <!-- Title -->
                <div class="menu-title">C√†i ƒë·∫∑t</div>
                <!-- <div class="menu-item-wrapper">
                    <label class="btnLogoutContainer" htmlFor="btnLogoutID">
                        <mat-icon>logout</mat-icon>
                        <button id="btnLogoutID" class="btnLogout" type="button" (click)="Logout()">ƒêƒÉng xu·∫•t</button>
                    </label>
                </div> -->
                <!-- B√°o c√°o th·ªëng k√™ -->
                <div class="menu-item-wrapper">
                    <label class="menu-item">
                        <div class="icon"><mat-icon>logout</mat-icon></div>
                        <!-- <span class="menu-item-text">ƒêƒÉng xu·∫•t</span> -->
                        <button id="btnLogoutID" class="btnLogout menu-item-text" type="button" (click)="Logout()">
                            ƒêƒÉng xu·∫•t
                        </button>
                    </label>
                </div>
            </div>
        </div>
    </aside>
    <!-- Toggle Button -->
    <div class="sidebar-toggle" [class.collapsed]="isCollapsed" (click)="toggleSidebar()">
        <!-- <svg viewBox="0 0 24 24">
            <path d="M15 18l-6-6 6-6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg> -->
        @if (isCollapsed) {
            <mat-icon>last_page</mat-icon>
        } @else {
            <mat-icon>first_page</mat-icon>
        }
    </div>
    <!-- Main Content -->
    <main class="main-content" [class.expanded]="isCollapsed">
        <router-outlet></router-outlet>
    </main>
</div>

<!-- Footer -->
<footer class="footer">
    <div class="footer-content">
        <div class="footer-section">
            <div class="company-footer">
                <div class="footer-logo">NA</div>
                <div>
                    <h3>Ng·ªçc An Logistics</h3>
                </div>
            </div>
            <p>
                C√¥ng ty v·∫≠n t·∫£i logistics h√†ng ƒë·∫ßu Vi·ªát Nam, chuy√™n cung c·∫•p d·ªãch v·ª• v·∫≠n chuy·ªÉn h√†ng h√≥a an to√†n, nhanh
                ch√≥ng v√† ti·∫øt ki·ªám chi ph√≠.
            </p>
            <div class="social-links">
                <a href="#" class="social-link">üìò</a>
                <a href="#" class="social-link">üìû</a>
                <a href="#" class="social-link">‚úâÔ∏è</a>
                <a href="#" class="social-link">üåê</a>
            </div>
        </div>

        <div class="footer-section">
            <h3>D·ªãch v·ª•</h3>
            <a href="#">V·∫≠n chuy·ªÉn n·ªôi ƒë·ªãa</a>
            <a href="#">V·∫≠n chuy·ªÉn qu·ªëc t·∫ø</a>
            <a href="#">Kho b√£i</a>
            <a href="#">Ph√¢n ph·ªëi</a>
            <a href="#">T∆∞ v·∫•n logistics</a>
        </div>

        <div class="footer-section">
            <h3>H·ªó tr·ª£</h3>
            <a href="#">Trung t√¢m tr·ª£ gi√∫p</a>
            <a href="#">Theo d√µi ƒë∆°n h√†ng</a>
            <a href="#">B√°o gi√°</a>
            <a href="#">Li√™n h·ªá</a>
            <a href="#">FAQ</a>
        </div>

        <div class="footer-section">
            <h3>Li√™n h·ªá</h3>
            <p>üìç 123 ƒê∆∞·ªùng ABC, Qu·∫≠n 1, TP.HCM</p>
            <p>üìû Hotline: 1900-xxxx</p>
            <p>‚úâÔ∏è Email: infongocanlogistics.com</p>
            <p>üïí T2-T6: 8:00 - 17:30</p>
        </div>
    </div>

    <div class="footer-bottom">
        <p>&copy; 2024 Ng·ªçc An Logistics. T·∫•t c·∫£ quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u. | Thi·∫øt k·∫ø b·ªüi UnifyAdmin System</p>
    </div>
</footer>

<!-- JS Script Handle Toggle Sidebar -->
<script>
    // Toggle Sidebar Collapse/Expand
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('mainContent');
        const toggleBtn = document.getElementById('sidebarToggle');

        sidebar.classList.toggle('collapsed');
        mainContent.classList.toggle('expanded');
        toggleBtn.classList.toggle('collapsed');

        // Save state to localStorage
        const isCollapsed = sidebar.classList.contains('collapsed');
        localStorage.setItem('sidebarCollapsed', isCollapsed);
    }

    // Toggle Submenu
    function toggleSubmenu(event, submenuId) {
        event.preventDefault();
        const submenu = document.getElementById(submenuId);
        const menuItem = event.currentTarget;

        // Don't open submenu if sidebar is collapsed
        const sidebar = document.getElementById('sidebar');
        if (sidebar.classList.contains('collapsed')) {
            return;
        }

        submenu.classList.toggle('open');
        menuItem.classList.toggle('open');
    }

    // Toggle Mobile Sidebar
    function toggleMobileSidebar() {
        const sidebar = document.getElementById('sidebar');
        const overlay = document.querySelector('.sidebar-overlay');

        sidebar.classList.toggle('mobile-open');
        overlay.classList.toggle('active');
    }

    // Load saved state on page load
    window.addEventListener('DOMContentLoaded', () => {
        const isCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';
        if (isCollapsed) {
            document.getElementById('sidebar').classList.add('collapsed');
            document.getElementById('mainContent').classList.add('expanded');
            document.getElementById('sidebarToggle').classList.add('collapsed');
        }
    });

    // Active menu item
    document.querySelectorAll('.menu-item').forEach((item) => {
        item.addEventListener('click', function (e) {
            if (!this.classList.contains('has-submenu')) {
                e.preventDefault();
                document.querySelectorAll('.menu-item').forEach((i) => i.classList.remove('active'));
                this.classList.add('active');
            }
        });
    });

    // Handle window resize
    window.addEventListener('resize', () => {
        if (window.innerWidth > 768) {
            document.querySelector('.sidebar-overlay').classList.remove('active');
            document.getElementById('sidebar').classList.remove('mobile-open');
        }
    });
</script>
