<!-- Header -->
<div class="header">
    <div class="logo-section">
        <button class="mobile-menu-toggle" (click)="toggleMobileSidebar()">â˜°</button>
        <div class="company-logo">NA</div>
        <div class="company-info">
            <h1>Ngá»c An Logistics</h1>
            <p>Há»‡ thá»‘ng quáº£n lÃ½ váº­n táº£i</p>
        </div>
    </div>
</div>

<div class="container">
    <!-- Sidebar Overlay for mobile -->
    <div class="sidebar-overlay" [class.active]="isMobileOpen" (click)="toggleMobileSidebar()"></div>

    <!-- Sidebar -->
    <aside class="sidebar" [class.collapsed]="isCollapsed" [class.mobile-open]="isMobileOpen">

        <div class="admin-info">
            <div class="admin-avatar">ğŸ¢</div>
            <h3>UnifyAdmin</h3>
            <p>Management System</p>
        </div>

        <div class="menu-section">
            <div class="menu-title">Quáº£n lÃ½ chÃ­nh</div>

            <a *ngIf="rolename == 'Admin'" routerLink="/admin/dashboard" routerLinkActive="active" class="menu-item"
                data-tooltip="Dashboard">
                <div class="icon">ğŸ“Š</div>
                <span class="menu-item-text">Dashboard</span>
            </a>

            <!-- ÄÆ¡n hÃ ng Menu -->
            <a class="menu-item has-submenu" [class.open]="submenus.orders" data-tooltip="ÄÆ¡n hÃ ng"
                (click)="toggleSubmenu('orders')">
                <div class="icon">ğŸ“¦</div>
                <span class="menu-item-text">ÄÆ¡n hÃ ng</span>
            </a>

            <div class="submenu" [class.open]="submenus.orders">
                <a routerLink="/admin/list-order" routerLinkActive="active" class="menu-item"
                    data-tooltip="Danh sÃ¡ch Ä‘Æ¡n hÃ ng">
                    <div class="icon">ğŸ“‹</div>
                    <span class="menu-item-text">Danh sÃ¡ch Ä‘Æ¡n hÃ ng</span>
                </a>
                <a routerLink="/entry/create-order" routerLinkActive="active" class="menu-item"
                    data-tooltip="Táº¡o Ä‘Æ¡n hÃ ng">
                    <div class="icon">â•</div>
                    <span class="menu-item-text">Táº¡o Ä‘Æ¡n hÃ ng</span>
                </a>
                <!-- <a routerLink="/entry/update-order" routerLinkActive="active" class="menu-item" 
                    data-tooltip="Cáº­p nháº­t Ä‘Æ¡n hÃ ng">
                    <div class="icon">âœï¸</div>
                    <span class="menu-item-text">Cáº­p nháº­t Ä‘Æ¡n hÃ ng</span>
                </a> -->
            </div>

            <!-- Danh má»¥c Menu -->
            <a class="menu-item has-submenu" [class.open]="submenus.categories" data-tooltip="Danh má»¥c"
                (click)="toggleSubmenu('categories')">
                <div class="icon">ğŸ“‚</div>
                <span class="menu-item-text">Danh má»¥c</span>
                <!-- <span class="badge">6</span> -->
            </a>

            <div class="submenu" [class.open]="submenus.categories">
                <a routerLink="/admin/list-transportSalary" routerLinkActive="active" class="menu-item"
                    data-tooltip="Tiá»n lÆ°Æ¡ng váº­n chuyá»ƒn">
                    <div class="icon">ğŸšš</div>
                    <span class="menu-item-text">Tiá»n lÆ°Æ¡ng váº­n chuyá»ƒn</span>
                </a>

                <a routerLink="/admin/list-customer" routerLinkActive="active" class="menu-item"
                    data-tooltip="KhÃ¡ch hÃ ng">
                    <div class="icon">ğŸ‘¥</div>
                    <span class="menu-item-text">KhÃ¡ch hÃ ng</span>
                </a>
                <a routerLink="/admin/list-driver" routerLinkActive="active" class="menu-item" data-tooltip="TÃ i xáº¿">
                    <div class="icon">ğŸš—</div>
                    <span class="menu-item-text">TÃ i xáº¿</span>
                </a>
                <a routerLink="/admin/list-location" routerLinkActive="active" class="menu-item"
                    data-tooltip="Äá»‹a Ä‘iá»ƒm">
                    <div class="icon">ğŸ“</div>
                    <span class="menu-item-text">Äá»‹a Ä‘iá»ƒm</span>
                </a>
                <a routerLink="/admin/list-truck" routerLinkActive="active" class="menu-item" data-tooltip="Xe">
                    <div class="icon">ğŸš›</div>
                    <span class="menu-item-text">Sá»‘ Xe</span>
                </a>
                <a routerLink="/admin/list-rmooc" routerLinkActive="active" class="menu-item" data-tooltip="Rmooc">
                    <div class="icon">ğŸšš</div>
                    <span class="menu-item-text">Sá»‘ Rmooc</span>
                </a>
                <a routerLink="/admin/list-item" routerLinkActive="active" class="menu-item" data-tooltip="Chi phÃ­">
                    <div class="icon">ğŸ’°</div>
                    <span class="menu-item-text">Chi phÃ­</span>
                </a>
            </div>

            <a *ngIf="rolename == 'Admin' " class="menu-item has-submenu" [class.open]="submenus.maintenance"
                data-tooltip="Danh má»¥c báº£o dÆ°á»¡ng" (click)="toggleSubmenu('maintenance')">
                <div class="icon">ğŸ”§ </div>
                <span class="menu-item-text">Báº£o dÆ°á»¡ng</span>
                <!-- <span class="badge">6</span> -->
            </a>
            <div class="submenu" [class.open]="submenus.maintenance">
                <a *ngIf="rolename == 'Admin' " routerLink="/admin/list-maintenance" routerLinkActive="active"
                    class="menu-item" data-tooltip="NgÆ°á»i dÃ¹ng">
                    <div class="icon">ğŸ”§</div>
                    <span class="menu-item-text">Báº£o dÆ°á»¡ng</span>
                </a>
                <a *ngIf="rolename == 'Admin' " routerLink="/admin/list-maintenanceType" routerLinkActive="active"
                    class="menu-item" data-tooltip="NgÆ°á»i dÃ¹ng">
                    <div class="icon">ğŸ“‹</div>
                    <span class="menu-item-text">Má»¥c báº£o dÆ°á»¡ng</span>
                </a>
            </div>


            <a *ngIf="rolename == 'Admin' " class="menu-item has-submenu" [class.open]="submenus.user"
                data-tooltip="NgÆ°á»i dÃ¹ng" (click)="toggleSubmenu('user')">
                <div class="icon">ğŸ§‘â€ğŸ’¼ </div>
                <span class="menu-item-text">NgÆ°á»i dÃ¹ng</span>
                <!-- <span class="badge">6</span> -->
            </a>
            <div class="submenu" [class.open]="submenus.user">
                <a routerLink="/admin/list-userRole" routerLinkActive="active" class="menu-item"
                    data-tooltip="NgÆ°á»i dÃ¹ng">
                    <div class="icon">ğŸ§‘â€ğŸ’¼</div>
                    <span class="menu-item-text">NgÆ°á»i dÃ¹ng</span>
                </a>
            </div>

            <a routerLink="/reports" routerLinkActive="active" class="menu-item" data-tooltip="BÃ¡o cÃ¡o thá»‘ng kÃª">
                <div class="icon">ğŸ“ˆ</div>
                <span class="menu-item-text">BÃ¡o cÃ¡o thá»‘ng kÃª</span>
            </a>

            <button type="button" (click)="Logout()">ÄÄƒng xuáº¥t</button>
        </div>
    </aside>

    <!-- Toggle Button -->
    <div class="sidebar-toggle" [class.collapsed]="isCollapsed" (click)="toggleSidebar()">
        <svg viewBox="0 0 24 24">
            <path d="M15 18l-6-6 6-6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
    </div>

    <!-- Main Content -->
    <main class="main-content" [class.expanded]="isCollapsed">
        <router-outlet></router-outlet>
    </main>
</div>



<!-- Footer -->
<footer class="footer">
    <div class="footer-content">
        <div class="footer-section">
            <div class="company-footer">
                <div class="footer-logo">NA</div>
                <div>
                    <h3>Ngá»c An Logistics</h3>
                </div>
            </div>
            <p>CÃ´ng ty váº­n táº£i logistics hÃ ng Ä‘áº§u Viá»‡t Nam, chuyÃªn cung cáº¥p dá»‹ch vá»¥ váº­n chuyá»ƒn hÃ ng hÃ³a an toÃ n, nhanh
                chÃ³ng vÃ  tiáº¿t kiá»‡m chi phÃ­.</p>
            <div class="social-links">
                <a href="#" class="social-link">ğŸ“˜</a>
                <a href="#" class="social-link">ğŸ“</a>
                <a href="#" class="social-link">âœ‰ï¸</a>
                <a href="#" class="social-link">ğŸŒ</a>
            </div>
        </div>

        <div class="footer-section">
            <h3>Dá»‹ch vá»¥</h3>
            <a href="#">Váº­n chuyá»ƒn ná»™i Ä‘á»‹a</a>
            <a href="#">Váº­n chuyá»ƒn quá»‘c táº¿</a>
            <a href="#">Kho bÃ£i</a>
            <a href="#">PhÃ¢n phá»‘i</a>
            <a href="#">TÆ° váº¥n logistics</a>
        </div>

        <div class="footer-section">
            <h3>Há»— trá»£</h3>
            <a href="#">Trung tÃ¢m trá»£ giÃºp</a>
            <a href="#">Theo dÃµi Ä‘Æ¡n hÃ ng</a>
            <a href="#">BÃ¡o giÃ¡</a>
            <a href="#">LiÃªn há»‡</a>
            <a href="#">FAQ</a>
        </div>

        <div class="footer-section">
            <h3>LiÃªn há»‡</h3>
            <p>ğŸ“ 123 ÄÆ°á»ng ABC, Quáº­n 1, TP.HCM</p>
            <p>ğŸ“ Hotline: 1900-xxxx</p>
            <p>âœ‰ï¸ Email: infongocanlogistics.com</p>
            <p>ğŸ•’ T2-T6: 8:00 - 17:30</p>
        </div>
    </div>

    <div class="footer-bottom">
        <p>&copy; 2024 Ngá»c An Logistics. Táº¥t cáº£ quyá»n Ä‘Æ°á»£c báº£o lÆ°u. | Thiáº¿t káº¿ bá»Ÿi UnifyAdmin System</p>
    </div>
</footer>


<script>
    // Toggle Sidebar Collapse/Expand
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('mainContent');
        const toggleBtn = document.getElementById('sidebarToggle');

        sidebar.classList.toggle('collapsed');
        mainContent.classList.toggle('expanded');
        toggleBtn.classList.toggle('collapsed');

        // Save state to localStorage
        const isCollapsed = sidebar.classList.contains('collapsed');
        localStorage.setItem('sidebarCollapsed', isCollapsed);
    }

    // Toggle Submenu
    function toggleSubmenu(event, submenuId) {
        event.preventDefault();
        const submenu = document.getElementById(submenuId);
        const menuItem = event.currentTarget;

        // Don't open submenu if sidebar is collapsed
        const sidebar = document.getElementById('sidebar');
        if (sidebar.classList.contains('collapsed')) {
            return;
        }

        submenu.classList.toggle('open');
        menuItem.classList.toggle('open');
    }

    // Toggle Mobile Sidebar
    function toggleMobileSidebar() {
        const sidebar = document.getElementById('sidebar');
        const overlay = document.querySelector('.sidebar-overlay');

        sidebar.classList.toggle('mobile-open');
        overlay.classList.toggle('active');
    }

    // Load saved state on page load
    window.addEventListener('DOMContentLoaded', () => {
        const isCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';
        if (isCollapsed) {
            document.getElementById('sidebar').classList.add('collapsed');
            document.getElementById('mainContent').classList.add('expanded');
            document.getElementById('sidebarToggle').classList.add('collapsed');
        }
    });

    // Active menu item
    document.querySelectorAll('.menu-item').forEach(item => {
        item.addEventListener('click', function (e) {
            if (!this.classList.contains('has-submenu')) {
                e.preventDefault();
                document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
            }
        });
    });

    // Handle window resize
    window.addEventListener('resize', () => {
        if (window.innerWidth > 768) {
            document.querySelector('.sidebar-overlay').classList.remove('active');
            document.getElementById('sidebar').classList.remove('mobile-open');
        }
    });
</script>